/* ================== SERVICIOS (PLANES) ================== */
.planes {
    position: relative;
    background: #f7f7f7;
    padding: clamp(32px, 5vw, 72px) 7vw;
    overflow: hidden;
}

.planes__wrap {
    position: relative;
    z-index: 1;
}

.planes h2 {
    text-align: center;
    font-size: clamp(1.4rem, 2.6vw, 2.2rem);
    margin: 0 0 8px;
}

.planes__sub {
    text-align: center;
    margin: 0 0 8px;
    color: #555;
    font-size: clamp(.95rem, 1.2vw, 1.05rem);
}

/* Rótulo grande (no tapa badges) */
.planes__label {
    text-align: center;
    font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    font-weight: 800;
    letter-spacing: .08em;
    color: #000;
    opacity: .12;
    margin: 6px 0 50px;
    font-size: clamp(1.8rem, 9vw, 4rem);
    line-height: 1;
    position: relative;
    z-index: 0;
    pointer-events: none;
}

/* GRID */
#servicios .planes__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: clamp(16px, 2vw, 28px);
    align-items: stretch;
}

#servicios-diseno .planes__grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: clamp(16px, 2vw, 28px);
    align-items: stretch;
}

/* ===== CARD ===== */
.plan-card {
    --bg: #fff;
    --head: #222;
    --accent: #e53e3e;
    --shadow: 0 12px 28px rgba(0, 0, 0, .08);
    background: var(--bg);
    border-radius: 14px;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    -webkit-transform: translateY(8px);
    transform: translateY(8px);
    -webkit-transition: -webkit-transform .25s ease, box-shadow .25s ease;
    transition: transform .25s ease, box-shadow .25s ease;
    will-change: transform;
    position: relative;
    overflow: visible;
    z-index: 1;
    min-height: 100%;
}

/* Pestaña negra */
.plan-card__badge {
    position: absolute;
    top: -40px;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    background: #000;
    color: #fff;
    font-weight: 800;
    font-size: .82rem;
    letter-spacing: .04em;
    text-transform: uppercase;
    text-align: center;
    padding: 8px 18px 6px;
    min-width: 150px;
    border-radius: 12px;
    border: 4px solid #fff;
    box-shadow: 0 8px 18px rgba(0, 0, 0, .2);
    z-index: 5;
    display: inline-block;
}

.plan-card__badge::after {
    display: none;
}

/* Cabecera con “pico” */
.plan-card__head {
    position: relative;
    isolation: isolate;
    background: var(--accent);
    color: #fff;
    padding: 42px 18px 38px;
    -webkit-clip-path: polygon(0 0, 100% 0, 100% 68%, 50% 88%, 0 68%);
    clip-path: polygon(0 0, 100% 0, 100% 68%, 50% 88%, 0 68%);
    display: grid;
    place-items: center;
    text-align: center;
}

/* brillo */
.plan-card__head::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: linear-gradient(110deg, rgba(255, 255, 255, .06) 0%, rgba(255, 255, 255, 0) 22%, rgba(255, 255, 255, .14) 45%, rgba(255, 255, 255, 0) 60%);
    background-size: 200% 100%;
    -webkit-animation: shine 4s linear infinite;
    animation: shine 4s linear infinite;
    z-index: -1;
}

@-webkit-keyframes shine {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

@keyframes shine {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

/* Título */
.plan-card__title {
    margin: 0 auto;
    font-size: clamp(1.2rem, 2.2vw, 1.7rem);
    font-weight: 800;
    line-height: 1.1;
    text-align: center;
    display: inline-block;
    width: auto;
    justify-self: center;
}

/* Lista */
.plan-card__list {
    list-style: none;
    margin: 22px 18px 0;
    padding: 0 8px 4px;
    display: grid;
    gap: 10px;
    color: #333;
    font-size: .95rem;
    flex: 1 1 auto;
}

.plan-card__list li {
    position: relative;
    padding-left: 22px;
    line-height: 1.45;
}

.plan-card__list li::before {
    content: "•";
    position: absolute;
    left: 0;
    top: -1px;
    font-weight: 900;
    color: var(--accent);
}

/* CTA */
.plan-card__cta {
    margin: clamp(28px, 3.5vw, 48px) auto 24px;
    width: clamp(150px, 40%, 200px);
    padding: 12px 14px;
    border: none;
    border-radius: 999px;
    font-weight: 800;
    letter-spacing: .02em;
    cursor: pointer;
    color: #fff;
    background: var(--accent);
    box-shadow: 0 6px 16px rgba(0, 0, 0, .12);
    -webkit-transition: -webkit-transform .2s, box-shadow .2s, filter .2s;
    transition: transform .2s, box-shadow .2s, filter .2s;
    position: relative;
    z-index: 1;
}

.plan-card__head+.plan-card__list {
    margin-top: clamp(14px, 2vw, 22px);
}

.plan-card__head+.plan-card__cta {
    margin-top: clamp(28px, 4vw, 48px);
}

.plan-card__cta:hover {
    -webkit-transform: translateY(-2px);
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, .16);
    filter: brightness(1.02);
}

/* Hover card */
.plan-card:hover {
    -webkit-transform: translateY(-6px);
    transform: translateY(-6px);
}

/* ===== PALETAS ===== */
#servicios .plan--basic {
    --accent: #E6007E;
}

/* magenta */
#servicios .plan--plus {
    --accent: #8BC34A;
}

/* lima    */
#servicios .plan--max {
    --accent: #039BE5;
}

/* azul    */

#servicios-diseno .planes__grid>.plan-card:nth-child(1) {
    --accent: #7B5CFF;
}

#servicios-diseno .planes__grid>.plan-card:nth-child(2) {
    --accent: #FF6F3D;
}

#servicios-diseno .planes__grid>.plan-card:nth-child(3) {
    --accent: #00BFA6;
}

#servicios-diseno .planes__grid>.plan-card:nth-child(4) {
    --accent: #F5B700;
}

/* ===== ENTRADA on-scroll ===== */
.reveal {
    opacity: 0;
    -webkit-transform: translateY(24px);
    transform: translateY(24px);
    -webkit-transition: opacity .6s ease, -webkit-transform .6s cubic-bezier(.2, .7, .2, 1);
    transition: opacity .6s ease, transform .6s cubic-bezier(.2, .7, .2, 1);
    will-change: transform, opacity;
}

.reveal.is-visible {
    opacity: 1;
    -webkit-transform: translateY(0);
    transform: translateY(0);
}

/* ===== Botón "VER DETALLE" ===== */
.plan-card__toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .4rem;
    margin: 12px auto 0;
    padding: .55rem 1.1rem;
    border: 0;
    border-radius: 999px;
    font-weight: 800;
    font-size: .85rem;
    letter-spacing: .04em;
    background: #000;
    color: #fff;
    box-shadow: 0 6px 14px rgba(0, 0, 0, .18);
    cursor: pointer;
}

/* ===== Acordeón (mobile): max-height estable en Safari ===== */
.plan-card__list,
.plan-card__cta {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    -webkit-transition: max-height .3s ease, opacity .2s ease;
    transition: max-height .3s ease, opacity .2s ease;
}

.plan-card.open .plan-card__list,
.plan-card.open .plan-card__cta {
    opacity: 1;
}

/* =================== MOBILE (≤768px) =================== */
@media (max-width:768px) {
    .planes {
        padding: 28px 16px 40px;
    }

    .planes__label {
        font-size: clamp(1.4rem, 18vw, 2.2rem);
        opacity: .16;
        margin-bottom: 28px;
    }

    .planes__grid {
        grid-template-columns: 1fr !important;
        gap: 32px;
    }

    .plan-card {
        width: 100%;
    }

    /* Badge no flotante */
    .plan-card__badge {
        position: relative;
        top: 0;
        left: auto;
        -webkit-transform: none;
        transform: none;
        margin-bottom: 12px;
    }

    /* Cabecera clickeable (si querés abrir desde la cabecera) */
    .plan-card__head {
        padding-top: 28px;
        padding-bottom: 28px;
        cursor: pointer;
    }

    /* El botón se muestra en mobile */
    .plan-card__toggle {
        display: inline-flex;
    }
}

/* =================== DESKTOP (≥769px) =================== */
@media (min-width:769px) {
    .plan-card__toggle {
        display: none !important;
    }

    /* SIEMPRE visible en desktop */
    .plan-card__list,
    .plan-card__cta {
        max-height: none !important;
        opacity: 1 !important;
        overflow: visible !important;
        -webkit-transition: none !important;
        transition: none !important;
    }

    .plan-card.open .plan-card__list,
    .plan-card.open .plan-card__cta {
        opacity: 1 !important;
    }
}

/* Accesibilidad: respeta "reducir movimiento" */
@media (prefers-reduced-motion: reduce) {

    .reveal,
    .plan-card,
    .plan-card__list,
    .plan-card__cta,
    .plan-card__cta:hover,
    .plan-card__head::before {
        -webkit-animation: none !important;
        animation: none !important;
        -webkit-transition: none !important;
        transition: none !important;
        -webkit-transform: none !important;
        transform: none !important;
    }
}

/* 1) Evitar que la lista estire la card en mobile cuando está cerrada */
@media (max-width:768px) {
    .plan-card {
        min-height: auto;
    }

    /* no fuerces alto en mobile */
    .plan-card__list {
        flex: 0 0 auto;
    }

    /* quita el flex:1 que estira */
}

/* 2) Acordeón: estados por defecto */
.plan-card__list,
.plan-card__cta {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    -webkit-transition: max-height .3s ease, opacity .2s ease;
    transition: max-height .3s ease, opacity .2s ease;
}

.plan-card.open .plan-card__list,
.plan-card.open .plan-card__cta {
    opacity: 1;
}

/* 3) Desktop siempre expandido (sin animación de altura) */
@media (min-width:769px) {
    .plan-card__toggle {
        display: none !important;
    }

    .plan-card__list,
    .plan-card__cta {
        max-height: none !important;
        opacity: 1 !important;
        overflow: visible !important;
        -webkit-transition: none !important;
        transition: none !important;
        flex: 0 0 auto;
        /* por si algún tema les da flex */
    }
}